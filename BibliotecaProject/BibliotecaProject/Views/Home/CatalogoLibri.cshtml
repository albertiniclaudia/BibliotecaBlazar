@model IEnumerable<Book>


        <h1 style="text-align:center;" class="mt-3">Il Nostro Catalogo</h1>
        <div class="row mb-3">
        <div class="col-2  mb-5">
        </div>
        <div class="col-2  mb-3">
        <a class="btn btn-primary" asp-controller="User" asp-action="QueueBooks">Mettiti in Coda</a>
        </div>
        <div class="col-3  mb-3 me-5" id="filterable"></div>
        <div class="col-4  mb-4">
            <input type="text"  class="form-control mb-3" name="search" id="search" placeholder="search..." aria-label="Search">
        </div>
        @foreach(var item in Model){
        <div class="col-3  mb-1" id="filterable">
            <div class="card">
            <div class="card-body">
                    <img src=@item.ImageUrl style="max-width:100%; max-height:100%"/>
                    <h3 class="card-title" style="text-align:center;">Title:@item.Title</h3>
                    <div class="mx-auto text-center">
                        <a class="btn btn-primary" asp-controller="Home" asp-action="Check" asp-route-id=@item.Id_book>Prenota</a>
                        <a class="btn btn-primary" asp-controller="Home" asp-action="DetailBook" asp-route-id=@item.Id_book>Detail Book</a>
                    </div>
            </div>
        </div>
        </div>
        }
</div>
@section Scripts{

<script>

    $(document).ready(function(){

            
            $("#search").keyup(function(e) {

                 if (e.keyCode != 46) {

                     var searchValue = $(this).val();

                 }

                $("div #filterable").filter(function (results) {

                    if (results !== 0) {

                         var title = $(this).find("h3:nth-child(2)").text();

                        if (title.toLowerCase().indexOf(searchValue.toLowerCase()) < 0) {

                                $(this).hide();

                        }else {

                                $(this).show();

                        }

                    }

                });

            });

    });

</script>

}